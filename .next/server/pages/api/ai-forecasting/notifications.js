"use strict";(()=>{var exports={};exports.id="pages/api/ai-forecasting/notifications",exports.ids=["pages/api/ai-forecasting/notifications"],exports.modules={"@prisma/client/edge":e=>{e.exports=require("@prisma/client/edge")},"next/dist/compiled/next-server/pages-api.runtime.dev.js":e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.dev.js")},"@prisma/extension-accelerate":e=>{e.exports=import("@prisma/extension-accelerate")},"(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fai-forecasting%2Fnotifications&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cai-forecasting%5Cnotifications.ts&middlewareConfigBase64=e30%3D!":(module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ "(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ "(api)/./node_modules/next/dist/server/future/route-kind.js");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ "(api)/./node_modules/next/dist/build/templates/helpers.js");\n/* harmony import */ var _src_pages_api_ai_forecasting_notifications_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src\\pages\\api\\ai-forecasting\\notifications.ts */ "(api)/./src/pages/api/ai-forecasting/notifications.ts");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_pages_api_ai_forecasting_notifications_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_src_pages_api_ai_forecasting_notifications_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_ai_forecasting_notifications_ts__WEBPACK_IMPORTED_MODULE_3__, "default"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_ai_forecasting_notifications_ts__WEBPACK_IMPORTED_MODULE_3__, "config");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: "/api/ai-forecasting/notifications",\n        pathname: "/api/ai-forecasting/notifications",\n        // The following aren\'t used in production.\n        bundlePath: "",\n        filename: ""\n    },\n    userland: _src_pages_api_ai_forecasting_notifications_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmFpLWZvcmVjYXN0aW5nJTJGbm90aWZpY2F0aW9ucyZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnNyYyU1Q3BhZ2VzJTVDYXBpJTVDYWktZm9yZWNhc3RpbmclNUNub3RpZmljYXRpb25zLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ2dGO0FBQ2hGO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQywyRUFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsMkVBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dC1wYWdlcy1jaGFrcmEvP2MwNjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3NyY1xcXFxwYWdlc1xcXFxhcGlcXFxcYWktZm9yZWNhc3RpbmdcXFxcbm90aWZpY2F0aW9ucy50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2FpLWZvcmVjYXN0aW5nL25vdGlmaWNhdGlvbnNcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9haS1mb3JlY2FzdGluZy9ub3RpZmljYXRpb25zXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fai-forecasting%2Fnotifications&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cai-forecasting%5Cnotifications.ts&middlewareConfigBase64=e30%3D!\n')},"(api)/./src/lib/prisma.ts":(module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client/edge */ "@prisma/client/edge");\n/* harmony import */ var _prisma_client_edge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client_edge__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _prisma_extension_accelerate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @prisma/extension-accelerate */ "@prisma/extension-accelerate");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_prisma_extension_accelerate__WEBPACK_IMPORTED_MODULE_1__]);\n_prisma_extension_accelerate__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client_edge__WEBPACK_IMPORTED_MODULE_0__.PrismaClient().$extends((0,_prisma_extension_accelerate__WEBPACK_IMPORTED_MODULE_1__.withAccelerate)());\nif (true) globalForPrisma.prisma = prisma;\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL3ByaXNtYS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWtEO0FBQ1c7QUFFN0QsTUFBTUUsa0JBQWtCQztBQUlqQixNQUFNQyxTQUFTRixnQkFBZ0JFLE1BQU0sSUFBSSxJQUFJSiw2REFBWUEsR0FBR0ssUUFBUSxDQUFDSiw0RUFBY0EsSUFBRztBQUU3RixJQUFJSyxJQUF5QixFQUFjSixnQkFBZ0JFLE1BQU0sR0FBR0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LXBhZ2VzLWNoYWtyYS8uL3NyYy9saWIvcHJpc21hLnRzPzAxZDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQvZWRnZSdcclxuaW1wb3J0IHsgd2l0aEFjY2VsZXJhdGUgfSBmcm9tICdAcHJpc21hL2V4dGVuc2lvbi1hY2NlbGVyYXRlJ1xyXG5cclxuY29uc3QgZ2xvYmFsRm9yUHJpc21hID0gZ2xvYmFsVGhpcyBhcyB1bmtub3duIGFzIHtcclxuICBwcmlzbWE6IFByaXNtYUNsaWVudCB8IHVuZGVmaW5lZFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgcHJpc21hID0gZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA/PyBuZXcgUHJpc21hQ2xpZW50KCkuJGV4dGVuZHMod2l0aEFjY2VsZXJhdGUoKSlcclxuXHJcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSBnbG9iYWxGb3JQcmlzbWEucHJpc21hID0gcHJpc21hIl0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsIndpdGhBY2NlbGVyYXRlIiwiZ2xvYmFsRm9yUHJpc21hIiwiZ2xvYmFsVGhpcyIsInByaXNtYSIsIiRleHRlbmRzIiwicHJvY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/lib/prisma.ts\n')},"(api)/./src/pages/api/ai-forecasting/notifications.ts":(module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/prisma */ "(api)/./src/lib/prisma.ts");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_prisma__WEBPACK_IMPORTED_MODULE_0__]);\n_lib_prisma__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nasync function handler(req, res) {\n    try {\n        if (req.method === "GET") {\n            const { brandId } = req.query;\n            if (!brandId || typeof brandId !== "string") {\n                return res.status(400).json({\n                    error: "Brand ID is required"\n                });\n            }\n            // Fetch notifications for the brand user using the correct schema\n            const notifications = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.notification.findMany({\n                where: {\n                    recipients: {\n                        has: brandId\n                    }\n                },\n                orderBy: {\n                    createdAt: "desc"\n                },\n                take: 50 // Limit to last 50 notifications\n            });\n            res.status(200).json({\n                success: true,\n                notifications,\n                unreadCount: notifications.filter((n)=>!n.read).length\n            });\n        } else if (req.method === "PUT") {\n            const { notificationId } = req.body;\n            if (!notificationId) {\n                return res.status(400).json({\n                    error: "Notification ID is required"\n                });\n            }\n            // Mark notification as read\n            const updatedNotification = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.notification.update({\n                where: {\n                    id: notificationId\n                },\n                data: {\n                    read: true,\n                    readAt: new Date()\n                }\n            });\n            res.status(200).json({\n                success: true,\n                notification: updatedNotification\n            });\n        } else if (req.method === "POST") {\n            // Create a new notification\n            const { type, title, message, partId, partCode, partName, purchaseOrderId, priority = "MEDIUM", brandId } = req.body;\n            if (!type || !title || !message || !brandId) {\n                return res.status(400).json({\n                    error: "Missing required fields"\n                });\n            }\n            // Create data object with additional context\n            const notificationData = {\n                partId: partId || null,\n                partCode: partCode || null,\n                partName: partName || null,\n                purchaseOrderId: purchaseOrderId || null\n            };\n            const notification = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.notification.create({\n                data: {\n                    type,\n                    title,\n                    message,\n                    priority: priority.toUpperCase(),\n                    recipients: [\n                        brandId\n                    ],\n                    data: JSON.stringify(notificationData),\n                    read: false,\n                    actionRequired: false\n                }\n            });\n            res.status(201).json({\n                success: true,\n                notification\n            });\n        } else if (req.method === "DELETE") {\n            const { notificationId } = req.body;\n            if (!notificationId) {\n                return res.status(400).json({\n                    error: "Notification ID is required"\n                });\n            }\n            await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.notification.delete({\n                where: {\n                    id: notificationId\n                }\n            });\n            res.status(200).json({\n                success: true,\n                message: "Notification deleted successfully"\n            });\n        } else {\n            res.status(405).json({\n                error: "Method not allowed"\n            });\n        }\n    } catch (error) {\n        console.error("Error in notifications API:", error);\n        res.status(500).json({\n            error: "Internal server error"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2FpLWZvcmVjYXN0aW5nL25vdGlmaWNhdGlvbnMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFDc0M7QUFFdkIsZUFBZUMsUUFBUUMsR0FBbUIsRUFBRUMsR0FBb0I7SUFDN0UsSUFBSTtRQUNGLElBQUlELElBQUlFLE1BQU0sS0FBSyxPQUFPO1lBQ3hCLE1BQU0sRUFBRUMsT0FBTyxFQUFFLEdBQUdILElBQUlJLEtBQUs7WUFFN0IsSUFBSSxDQUFDRCxXQUFXLE9BQU9BLFlBQVksVUFBVTtnQkFDM0MsT0FBT0YsSUFBSUksTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFBRUMsT0FBTztnQkFBdUI7WUFDOUQ7WUFFQSxrRUFBa0U7WUFDbEUsTUFBTUMsZ0JBQWdCLE1BQU1WLCtDQUFNQSxDQUFDVyxZQUFZLENBQUNDLFFBQVEsQ0FBQztnQkFDdkRDLE9BQU87b0JBQ0xDLFlBQVk7d0JBQ1ZDLEtBQUtWO29CQUNQO2dCQUNGO2dCQUNBVyxTQUFTO29CQUFFQyxXQUFXO2dCQUFPO2dCQUM3QkMsTUFBTSxHQUFHLGlDQUFpQztZQUM1QztZQUVBZixJQUFJSSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUNuQlcsU0FBUztnQkFDVFQ7Z0JBQ0FVLGFBQWFWLGNBQWNXLE1BQU0sQ0FBQ0MsQ0FBQUEsSUFBSyxDQUFDQSxFQUFFQyxJQUFJLEVBQUVDLE1BQU07WUFDeEQ7UUFFRixPQUFPLElBQUl0QixJQUFJRSxNQUFNLEtBQUssT0FBTztZQUMvQixNQUFNLEVBQUVxQixjQUFjLEVBQUUsR0FBR3ZCLElBQUl3QixJQUFJO1lBRW5DLElBQUksQ0FBQ0QsZ0JBQWdCO2dCQUNuQixPQUFPdEIsSUFBSUksTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFBRUMsT0FBTztnQkFBOEI7WUFDckU7WUFFQSw0QkFBNEI7WUFDNUIsTUFBTWtCLHNCQUFzQixNQUFNM0IsK0NBQU1BLENBQUNXLFlBQVksQ0FBQ2lCLE1BQU0sQ0FBQztnQkFDM0RmLE9BQU87b0JBQUVnQixJQUFJSjtnQkFBZTtnQkFDNUJLLE1BQU07b0JBQ0pQLE1BQU07b0JBQ05RLFFBQVEsSUFBSUM7Z0JBQ2Q7WUFDRjtZQUVBN0IsSUFBSUksTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFDbkJXLFNBQVM7Z0JBQ1RSLGNBQWNnQjtZQUNoQjtRQUVGLE9BQU8sSUFBSXpCLElBQUlFLE1BQU0sS0FBSyxRQUFRO1lBQ2hDLDRCQUE0QjtZQUM1QixNQUFNLEVBQ0o2QixJQUFJLEVBQ0pDLEtBQUssRUFDTEMsT0FBTyxFQUNQQyxNQUFNLEVBQ05DLFFBQVEsRUFDUkMsUUFBUSxFQUNSQyxlQUFlLEVBQ2ZDLFdBQVcsUUFBUSxFQUNuQm5DLE9BQU8sRUFDUixHQUFHSCxJQUFJd0IsSUFBSTtZQUVaLElBQUksQ0FBQ08sUUFBUSxDQUFDQyxTQUFTLENBQUNDLFdBQVcsQ0FBQzlCLFNBQVM7Z0JBQzNDLE9BQU9GLElBQUlJLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7b0JBQUVDLE9BQU87Z0JBQTBCO1lBQ2pFO1lBRUEsNkNBQTZDO1lBQzdDLE1BQU1nQyxtQkFBbUI7Z0JBQ3ZCTCxRQUFRQSxVQUFVO2dCQUNsQkMsVUFBVUEsWUFBWTtnQkFDdEJDLFVBQVVBLFlBQVk7Z0JBQ3RCQyxpQkFBaUJBLG1CQUFtQjtZQUN0QztZQUVBLE1BQU01QixlQUFlLE1BQU1YLCtDQUFNQSxDQUFDVyxZQUFZLENBQUMrQixNQUFNLENBQUM7Z0JBQ3BEWixNQUFNO29CQUNKRztvQkFDQUM7b0JBQ0FDO29CQUNBSyxVQUFVQSxTQUFTRyxXQUFXO29CQUM5QjdCLFlBQVk7d0JBQUNUO3FCQUFRO29CQUNyQnlCLE1BQU1jLEtBQUtDLFNBQVMsQ0FBQ0o7b0JBQ3JCbEIsTUFBTTtvQkFDTnVCLGdCQUFnQjtnQkFDbEI7WUFDRjtZQUVBM0MsSUFBSUksTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFDbkJXLFNBQVM7Z0JBQ1RSO1lBQ0Y7UUFFRixPQUFPLElBQUlULElBQUlFLE1BQU0sS0FBSyxVQUFVO1lBQ2xDLE1BQU0sRUFBRXFCLGNBQWMsRUFBRSxHQUFHdkIsSUFBSXdCLElBQUk7WUFFbkMsSUFBSSxDQUFDRCxnQkFBZ0I7Z0JBQ25CLE9BQU90QixJQUFJSSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO29CQUFFQyxPQUFPO2dCQUE4QjtZQUNyRTtZQUVBLE1BQU1ULCtDQUFNQSxDQUFDVyxZQUFZLENBQUNvQyxNQUFNLENBQUM7Z0JBQy9CbEMsT0FBTztvQkFBRWdCLElBQUlKO2dCQUFlO1lBQzlCO1lBRUF0QixJQUFJSSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUNuQlcsU0FBUztnQkFDVGdCLFNBQVM7WUFDWDtRQUVGLE9BQU87WUFDTGhDLElBQUlJLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBcUI7UUFDckQ7SUFFRixFQUFFLE9BQU9BLE9BQU87UUFDZHVDLFFBQVF2QyxLQUFLLENBQUMsK0JBQStCQTtRQUM3Q04sSUFBSUksTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQXdCO0lBQ3hEO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LXBhZ2VzLWNoYWtyYS8uL3NyYy9wYWdlcy9hcGkvYWktZm9yZWNhc3Rpbmcvbm90aWZpY2F0aW9ucy50cz9iMzZiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0JztcclxuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSAnQC9saWIvcHJpc21hJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcclxuICB0cnkge1xyXG4gICAgaWYgKHJlcS5tZXRob2QgPT09ICdHRVQnKSB7XHJcbiAgICAgIGNvbnN0IHsgYnJhbmRJZCB9ID0gcmVxLnF1ZXJ5O1xyXG5cclxuICAgICAgaWYgKCFicmFuZElkIHx8IHR5cGVvZiBicmFuZElkICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnQnJhbmQgSUQgaXMgcmVxdWlyZWQnIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBGZXRjaCBub3RpZmljYXRpb25zIGZvciB0aGUgYnJhbmQgdXNlciB1c2luZyB0aGUgY29ycmVjdCBzY2hlbWFcclxuICAgICAgY29uc3Qgbm90aWZpY2F0aW9ucyA9IGF3YWl0IHByaXNtYS5ub3RpZmljYXRpb24uZmluZE1hbnkoe1xyXG4gICAgICAgIHdoZXJlOiB7IFxyXG4gICAgICAgICAgcmVjaXBpZW50czoge1xyXG4gICAgICAgICAgICBoYXM6IGJyYW5kSWRcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIG9yZGVyQnk6IHsgY3JlYXRlZEF0OiAnZGVzYycgfSxcclxuICAgICAgICB0YWtlOiA1MCAvLyBMaW1pdCB0byBsYXN0IDUwIG5vdGlmaWNhdGlvbnNcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBub3RpZmljYXRpb25zLFxyXG4gICAgICAgIHVucmVhZENvdW50OiBub3RpZmljYXRpb25zLmZpbHRlcihuID0+ICFuLnJlYWQpLmxlbmd0aFxyXG4gICAgICB9KTtcclxuXHJcbiAgICB9IGVsc2UgaWYgKHJlcS5tZXRob2QgPT09ICdQVVQnKSB7XHJcbiAgICAgIGNvbnN0IHsgbm90aWZpY2F0aW9uSWQgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgaWYgKCFub3RpZmljYXRpb25JZCkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnTm90aWZpY2F0aW9uIElEIGlzIHJlcXVpcmVkJyB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gTWFyayBub3RpZmljYXRpb24gYXMgcmVhZFxyXG4gICAgICBjb25zdCB1cGRhdGVkTm90aWZpY2F0aW9uID0gYXdhaXQgcHJpc21hLm5vdGlmaWNhdGlvbi51cGRhdGUoe1xyXG4gICAgICAgIHdoZXJlOiB7IGlkOiBub3RpZmljYXRpb25JZCB9LFxyXG4gICAgICAgIGRhdGE6IHsgXHJcbiAgICAgICAgICByZWFkOiB0cnVlLFxyXG4gICAgICAgICAgcmVhZEF0OiBuZXcgRGF0ZSgpXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIG5vdGlmaWNhdGlvbjogdXBkYXRlZE5vdGlmaWNhdGlvblxyXG4gICAgICB9KTtcclxuXHJcbiAgICB9IGVsc2UgaWYgKHJlcS5tZXRob2QgPT09ICdQT1NUJykge1xyXG4gICAgICAvLyBDcmVhdGUgYSBuZXcgbm90aWZpY2F0aW9uXHJcbiAgICAgIGNvbnN0IHtcclxuICAgICAgICB0eXBlLFxyXG4gICAgICAgIHRpdGxlLFxyXG4gICAgICAgIG1lc3NhZ2UsXHJcbiAgICAgICAgcGFydElkLFxyXG4gICAgICAgIHBhcnRDb2RlLFxyXG4gICAgICAgIHBhcnROYW1lLFxyXG4gICAgICAgIHB1cmNoYXNlT3JkZXJJZCxcclxuICAgICAgICBwcmlvcml0eSA9ICdNRURJVU0nLFxyXG4gICAgICAgIGJyYW5kSWRcclxuICAgICAgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgaWYgKCF0eXBlIHx8ICF0aXRsZSB8fCAhbWVzc2FnZSB8fCAhYnJhbmRJZCkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnTWlzc2luZyByZXF1aXJlZCBmaWVsZHMnIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDcmVhdGUgZGF0YSBvYmplY3Qgd2l0aCBhZGRpdGlvbmFsIGNvbnRleHRcclxuICAgICAgY29uc3Qgbm90aWZpY2F0aW9uRGF0YSA9IHtcclxuICAgICAgICBwYXJ0SWQ6IHBhcnRJZCB8fCBudWxsLFxyXG4gICAgICAgIHBhcnRDb2RlOiBwYXJ0Q29kZSB8fCBudWxsLFxyXG4gICAgICAgIHBhcnROYW1lOiBwYXJ0TmFtZSB8fCBudWxsLFxyXG4gICAgICAgIHB1cmNoYXNlT3JkZXJJZDogcHVyY2hhc2VPcmRlcklkIHx8IG51bGxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGF3YWl0IHByaXNtYS5ub3RpZmljYXRpb24uY3JlYXRlKHtcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICB0eXBlLFxyXG4gICAgICAgICAgdGl0bGUsXHJcbiAgICAgICAgICBtZXNzYWdlLFxyXG4gICAgICAgICAgcHJpb3JpdHk6IHByaW9yaXR5LnRvVXBwZXJDYXNlKCksXHJcbiAgICAgICAgICByZWNpcGllbnRzOiBbYnJhbmRJZF0sXHJcbiAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShub3RpZmljYXRpb25EYXRhKSxcclxuICAgICAgICAgIHJlYWQ6IGZhbHNlLFxyXG4gICAgICAgICAgYWN0aW9uUmVxdWlyZWQ6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIG5vdGlmaWNhdGlvblxyXG4gICAgICB9KTtcclxuXHJcbiAgICB9IGVsc2UgaWYgKHJlcS5tZXRob2QgPT09ICdERUxFVEUnKSB7XHJcbiAgICAgIGNvbnN0IHsgbm90aWZpY2F0aW9uSWQgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgaWYgKCFub3RpZmljYXRpb25JZCkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnTm90aWZpY2F0aW9uIElEIGlzIHJlcXVpcmVkJyB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYXdhaXQgcHJpc21hLm5vdGlmaWNhdGlvbi5kZWxldGUoe1xyXG4gICAgICAgIHdoZXJlOiB7IGlkOiBub3RpZmljYXRpb25JZCB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgbWVzc2FnZTogJ05vdGlmaWNhdGlvbiBkZWxldGVkIHN1Y2Nlc3NmdWxseSdcclxuICAgICAgfSk7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XHJcbiAgICB9XHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBub3RpZmljYXRpb25zIEFQSTonLCBlcnJvcik7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9KTtcclxuICB9XHJcbn0iXSwibmFtZXMiOlsicHJpc21hIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsImJyYW5kSWQiLCJxdWVyeSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsIm5vdGlmaWNhdGlvbnMiLCJub3RpZmljYXRpb24iLCJmaW5kTWFueSIsIndoZXJlIiwicmVjaXBpZW50cyIsImhhcyIsIm9yZGVyQnkiLCJjcmVhdGVkQXQiLCJ0YWtlIiwic3VjY2VzcyIsInVucmVhZENvdW50IiwiZmlsdGVyIiwibiIsInJlYWQiLCJsZW5ndGgiLCJub3RpZmljYXRpb25JZCIsImJvZHkiLCJ1cGRhdGVkTm90aWZpY2F0aW9uIiwidXBkYXRlIiwiaWQiLCJkYXRhIiwicmVhZEF0IiwiRGF0ZSIsInR5cGUiLCJ0aXRsZSIsIm1lc3NhZ2UiLCJwYXJ0SWQiLCJwYXJ0Q29kZSIsInBhcnROYW1lIiwicHVyY2hhc2VPcmRlcklkIiwicHJpb3JpdHkiLCJub3RpZmljYXRpb25EYXRhIiwiY3JlYXRlIiwidG9VcHBlckNhc2UiLCJKU09OIiwic3RyaW5naWZ5IiwiYWN0aW9uUmVxdWlyZWQiLCJkZWxldGUiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/ai-forecasting/notifications.ts\n')}};var __webpack_require__=require("../../../webpack-api-runtime.js");__webpack_require__.C(exports);var __webpack_exec__=e=>__webpack_require__(__webpack_require__.s=e),__webpack_exports__=__webpack_require__.X(0,["vendor-chunks/next"],()=>__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fai-forecasting%2Fnotifications&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cai-forecasting%5Cnotifications.ts&middlewareConfigBase64=e30%3D!"));module.exports=__webpack_exports__})();